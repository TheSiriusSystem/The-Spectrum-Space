<section id="stories" class="section">
    <div class="container">
        {% include components/section-header.html use_navbar_margin=false heading="Community Stories" subheading="Our Paths Through Challenge and Triumph." icon="fa-solid fa-book-reader" %}

        <!-- Story Timeline -->
        <div class="columns is-centered is-mobile">
            <div class="column is-10-desktop is-12-touch">
                <ul class="timeline">
                    {% for story in site.data.stories %}
                        {% assign position = forloop.index0 | modulo: 2 %}
                        {% if position == 0 %}
                            {% assign side = "is-left" %}
                        {% else %}
                            {% assign side = "is-right" %}
                        {% endif %}

                        <li class="timeline-item {{ side }} {{ story.type }}">
                            <div class="timeline-marker"></div>

                            <div class="box">
                                {% if story.type == "story" %}
                                    <p class="is-size-7">
                                        <time datetime="{{ story.date | date_to_xmlschema }}">{{ story.date | date: "%B %d, %Y" }}</time>
                                    </p>
                                    <h3 class="title mt-2 is-size-4-desktop is-size-5-mobile">
                                        {{ story.author }}
                                    </h3>
                                    <h4 class="subtitle mt-1 mb-3 is-size-6">
                                        {{ story.author-pronouns }} &bull; {{ story.author-location }}
                                    </h4>
                                    <p class="is-size-6">
                                        {{ story.content }}
                                    </p>
                                {% elsif story.type == "cta" %}
                                    <h3 class="title mb-3 is-size-4-desktop is-size-5-mobile">
                                        Add Yours?
                                    </h3>
                                    <p class="is-size-6">
                                        Everyone in our community has a story worth sharing. Tell us about your journey, challenges, triumphs, or hopes.
                                    </p>
                                    <a class="button is-medium mt-3" href="/contact">
                                        {% include components/button-content.html icon="fa-solid fa-pencil" text="Share Your Story" %}
                                    </a>
                                {% endif %}
                            </div>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <!-- Blog Call-To-Action Box -->
        <div class="columns is-centered is-mobile">
            <div class="column is-6-desktop is-8-tablet is-10-mobile">
                <div class="box blog-cta-box has-text-centered">
                    <h3 class="title is-size-3-desktop is-size-4-mobile">
                        More Stories from Our Community
                    </h3>
                    <p class="is-size-6">
                        Our blog features a growing collection of personal journeys, insights, and experiences from across the <strong>spectrum</strong>.
                    </p>
                    <a class="button mt-4" href="/blog">
                        {% include components/button-content.html icon="fa-solid fa-blog" text="Explore" %}
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="/assets/js/sections/stories.js"></script>