<section id="join" class="section">
    <div class="container">
        {% include components/section-header.html heading="Join Our Spectrum Family" subheading="Let's Build a Brighter Future Together." icon="fa-solid fa-user-plus" %}

        <!-- Testimonial Carousel -->
        <div class="columns is-centered is-mobile">
            <div class="column is-5-desktop is-8-tablet is-12-mobile">
                <div class="splide" role="group" aria-label="New Member Testimonials">
                    <div class="splide__track">
                        <ul class="splide__list">
                            {% for testimonial in site.data.new-user-testimonials %}
                                <li class="splide__slide">
                                    <div class="box has-text-centered">
                                        <figure class="image mb-4 is-96x96">
                                            <img class="is-rounded" src="{{ testimonial.author-avatar }}" alt="Avatar of {{ testimonial.author }}">
                                        </figure>
                                        <blockquote class="mb-2 is-size-6">
                                            <span class="quotation-mark" aria-hidden="true">&OpenCurlyDoubleQuote;</span>
                                            <span>{{ testimonial.quote }}</span>
                                            <span class="quotation-mark" aria-hidden="true">&CloseCurlyDoubleQuote;</span>
                                        </blockquote>
                                        <footer>
                                            <p class="is-size-5">
                                                â€” {{ testimonial.author }}
                                            </p>
                                        </footer>
                                    </div>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Join Form -->
        <div class="columns is-centered is-mobile">
            <div class="column is-6-desktop is-9-tablet is-12-mobile">
                <form id="join-form" class="box">
                    <!-- Progress Bar -->
                    <div class="progress-bar mb-4">
                        <div class="progress-line"></div>

                        {% include components/join/form-progress-dot.html number="1" %}
                        {% include components/join/form-progress-dot.html number="2" %}
                        {% include components/join/form-progress-dot.html number="3" %}
                        {% include components/join/form-progress-dot.html number="4" %}
                        {% include components/join/form-progress-dot.html number="5" %}
                    </div>

                    <!-- Step 1 -->
                    <div id="step-information" class="form-step">
                        {% include components/join/step-header.html heading="Step 1: Personal Information" subheading="Let's Start With The Basics" %}

                        <fieldset>
                            {% include components/join/fieldset-header.html text="Can you provide us some basic information?" %}

                            <div class="field">
                                {% assign is_required = true %}
                                {% include components/join/field-label.html id="name" text="Full Name" required=is_required %}
                                {% include components/join/input.html id="name" type="text" placeholder_text="John Doe" required=is_required icon="fa-solid fa-user" %}
                            </div>

                            <div class="field">
                                {% assign is_required = true %}
                                {% include components/join/field-label.html id="email" text="Email Address" required=is_required %}
                                {% include components/join/input.html id="email" type="email" placeholder_text="youremail@provider.com" required=is_required icon="fa-solid fa-envelope" %}
                            </div>

                            <div class="field">
                                {% assign is_required = false %}
                                {% include components/join/field-label.html id="phone" text="Phone Number" required=is_required %}
                                {% include components/join/input.html id="phone" type="tel" placeholder_text="+1 555-123-4567" required=is_required icon="fa-solid fa-phone" %}
                            </div>
                        </fieldset>

                        <fieldset>
                            {% include components/join/fieldset-header.html text="How do you express your identity?" %}

                            <div class="field">
                                {% include components/join/field-label.html id="gender-select" text="Gender" required=false %}
                                <div class="control has-icons-left">
                                    <div class="select is-fullwidth">
                                        <select id="gender-select" name="gender">
                                            <option value="mystery" disabled hidden selected>Select an option...</option>
                                            <option value="male">Male</option>
                                            <option value="female">Female</option>
                                            <option value="nonbinary">Nonbinary</option>
                                            <option value="mystery">Prefer not to disclose</option>
                                        </select>
                                    </div>
                                    {% include components/join/field-icon.html icon="fa-solid fa-venus-mars" %}
                                </div>
                            </div>

                            <div class="field">
                                {% assign is_required = false %}
                                {% include components/join/field-label.html id="pronouns" text="Pronouns" required=is_required %}
                                {% include components/join/input.html id="pronouns" type="text" placeholder_text="He/Him, She/Her, They/Them, etc." required=is_required icon="fa-solid fa-comment" %}
                            </div>
                        </fieldset>

                        <hr>

                        <p class="is-size-6 has-text-centered">
                            We collect this information to personalize your experience and keep you informed about our activities. Your privacy is important to us.
                        </p>

                        {% include components/join/form-buttons.html prev_step_id="" next_step_id="step-background" %}
                    </div>

                    <!-- Step 2 -->
                    <div id="step-background" class="form-step">
                        {% include components/join/step-header.html heading="Step 2: Interests & Background" subheading="Tell Us More About Your Connection (Optional)" %}

                        <fieldset>
                            {% include components/join/fieldset-header.html text="Let's talk identity and how long you've been around." %}

                            <div class="field">
                                {% include components/join/field-label.html id="identity-select" text="How do you identify within the LGBTQ+ community?" required=false %}
                                <div class="control has-icons-left">
                                    <div class="select is-fullwidth">
                                        <select id="identity-select" name="identity">
                                            <option value="mystery" disabled hidden selected>Select an option...</option>
                                            <optgroup label="Sexual Orientations">
                                                <option value="lesbian">Lesbian</option>
                                                <option value="gay">Gay</option>
                                                <option value="bisexual">Bisexual</option>
                                                <option value="asexual">Asexual</option>
                                                <option value="pansexual">Pansexual</option>
                                                <option value="demisexual">Demisexual</option>
                                            </optgroup>
                                            <optgroup label="Gender Identities">
                                                <option value="transgender">Transgender</option>
                                                <option value="intersex">Intersex</option>
                                            </optgroup>
                                            <optgroup label="Other">
                                                <option value="queer">Queer</option>
                                                <option value="questioning">Questioning</option>
                                                <option value="ally">Ally</option>
                                                <option value="other">Other</option>
                                                <option value="mystery">Prefer not to disclose</option>
                                            </optgroup>
                                        </select>
                                    </div>
                                    {% include components/join/field-icon.html icon="fa-solid fa-heart" %}
                                </div>
                            </div>

                            <div class="field">
                                {% include components/join/field-label.html id="connection-duration-select" text="How long have you been connected to or aware of our organization?" required=false %}
                                <div class="control has-icons-left">
                                    <div class="select is-fullwidth">
                                        <select id="connection-duration-select" name="connection-duration">
                                            <option value="mystery" disabled hidden selected>Select an option...</option>
                                            <option value="<6m">Less than 6 months</option>
                                            <option value="6m-1y">6 months to 1 year</option>
                                            <option value="1y-3y">1 to 3 years</option>
                                            <option value="3y+">More than 3 years</option>
                                            <option value="mystery">Prefer not to disclose</option>
                                        </select>
                                    </div>
                                    {% include components/join/field-icon.html icon="fa-solid fa-clock" %}
                                </div>
                            </div>
                        </fieldset>

                        <fieldset>
                            {% include components/join/fieldset-header.html text="What brings you here and how'd you find us?" %}

                            <div class="field">
                                {% assign is_required = false %}
                                {% include components/join/field-label.html id="expectations" text="What are you hoping to find or experience by joining our community?" required=is_required %}
                                {% include components/join/textarea.html id="expectations" placeholder_text="Tell us about what you're looking for..." required=is_required %}
                            </div>

                            <div class="field">
                                {% include components/join/field-label.html id="referral-source-select" text="How did you hear about us?" required=false %}
                                <div class="control has-icons-left">
                                    <div class="select is-fullwidth">
                                        <select id="referral-source-select" name="referral-source">
                                            <option value="mystery" disabled hidden selected>Select an option...</option>
                                            <option value="friend-family">Friend or Family</option>
                                            <option value="social-media">Social Media</option>
                                            <option value="online-search">Online Search</option>
                                            <option value="another-org">Another Organization</option>
                                            <option value="event">Event</option>
                                            <option value="flyer-print">Flyer or Print Material</option>
                                            <option value="news-article">News Article</option>
                                            <option value="website">Our Website (Directly)</option>
                                            <option value="other">Other</option>
                                            <option value="mystery">Prefer not to disclose</option>
                                        </select>
                                    </div>
                                    {% include components/join/field-icon.html icon="fa-solid fa-map-signs" %}
                                </div>
                            </div>
                        </fieldset>

                        <hr>

                        <p class="is-size-6 has-text-centered">
                            Sharing your connection and interests helps us tailor your experience and keep you informed about relevant opportunities.
                        </p>

                        {% include components/join/form-buttons.html prev_step_id="step-information" next_step_id="step-involvement" %}
                    </div>

                    <!-- Step 3 -->
                    <div id="step-involvement" class="form-step">
                        {% include components/join/step-header.html heading="Step 3: Community Engagement" subheading="How Would You Like To Connect With Us?" %}

                        <fieldset>
                            {% include components/join/fieldset-header.html text="I'm interested in: (Select all that apply)" %}

                            {% include components/join/controlling-checkbox.html key="engagement" value="participation" icon="fa-solid fa-calendar-days" text="Attending Events & Programs" %}
                            {% include components/join/controlling-checkbox.html key="engagement" value="volunteering" icon="fa-solid fa-handshake-angle" text="Volunteering" %}
                            {% include components/join/controlling-checkbox.html key="engagement" value="newsletter" icon="fa-solid fa-envelope" text="Newsletter & Updates" %}
                            {% include components/join/controlling-checkbox.html key="engagement" value="resources" icon="fa-solid fa-book-open" text="Access Resources" %}
                        </fieldset>

                        <hr>

                        <p class="is-size-6 has-text-centered">
                            Looking to support us financially? Visit our <a class="link" href="/support-us" target="_blank">Support Us</a> page for donation and membership options.
                        </p>

                        {% include components/join/form-buttons.html prev_step_id="step-background" next_step_id="step-preferences" %}
                    </div>

                    <!-- Step 4 -->
                    <div id="step-preferences" class="form-step">
                        {% include components/join/step-header.html heading="Step 4: Your Preferences" subheading="Help Us Customize Your Community Experience" %}

                        <fieldset class="dynamic-content-section mb-5" data-controlled-by="engagement:participation">
                            {% include components/join/fieldset-header.html text="Events & Programs" %}

                            <div class="field">
                                {% include components/join/field-label.html id="" text="What programs interest you most?" required=true %}
                                <div class="control" data-require-one="true">
                                    <label class="checkbox">
                                        <input name="participation-interests" type="checkbox" value="social"> Social Gatherings
                                    </label>
                                    <label class="checkbox">
                                        <input name="participation-interests" type="checkbox" value="support"> Support Groups
                                    </label>
                                    <label class="checkbox">
                                        <input name="participation-interests" type="checkbox" value="workshops"> Workshops & Learning
                                    </label>
                                    <label class="checkbox">
                                        <input name="participation-interests" type="checkbox" value="advocacy"> Advocacy Events
                                    </label>
                                    <label class="checkbox">
                                        <input name="participation-interests" type="checkbox" value="cultural"> Cultural Activities
                                    </label>
                                </div>
                            </div>

                            <div class="field">
                                {% include components/join/field-label.html id="participation-attendance-format-select" text="What is your preferred attendance format?" required=true %}
                                <div class="control">
                                    <div class="select is-fullwidth">
                                        <select id="participation-attendance-format-select" name="participation-attendance-format" required>
                                            <option value="" hidden selected>Select an option...</option>
                                            <option value="in-person">In-person only</option>
                                            <option value="virtual">Virtual only</option>
                                            <option value="hybrid">Both in-person and virtual</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset class="dynamic-content-section mb-5" data-controlled-by="engagement:volunteering">
                            {% include components/join/fieldset-header.html text="Volunteer Interests" %}

                            <div class="field">
                                {% assign is_required = true %}
                                {% include components/join/field-label.html id="volunteering-skills" text="What skills would you like to contribute?" required=is_required %}
                                {% include components/join/textarea.html id="volunteering-skills" placeholder_text="Tell us about your skills and interests..." required=is_required %}
                            </div>

                            <div class="field">
                                {% include components/join/field-label.html id="volunteering-availability-select" text="When are you available?" required=true %}
                                <div class="control">
                                    <div class="select is-fullwidth">
                                        <select id="volunteering-availability-select" name="volunteering-availability" required>
                                            <option value="" hidden selected>Select an option...</option>
                                            <option value="weekdays">Weekdays</option>
                                            <option value="weekends">Weekends</option>
                                            <option value="evenings">Evenings</option>
                                            <option value="flexible">Flexible</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset class="dynamic-content-section mb-5" data-controlled-by="engagement:newsletter">
                            {% include components/join/fieldset-header.html text="Newsletter Preferences" %}

                            <div class="field">
                                {% include components/join/field-label.html id="" text="What information interests you most?" required=true %}
                                <div class="control" data-require-one="true">
                                    <label class="checkbox">
                                        <input name="newsletter-interests" type="checkbox" value="events"> Upcoming Events
                                    </label>
                                    <label class="checkbox">
                                        <input name="newsletter-interests" type="checkbox" value="resources"> Community Resources
                                    </label>
                                    <label class="checkbox">
                                        <input name="newsletter-interests" type="checkbox" value="advocacy"> Advocacy Opportunities
                                    </label>
                                    <label class="checkbox">
                                        <input name="newsletter-interests" type="checkbox" value="stories"> Member Stories
                                    </label>
                                    <label class="checkbox">
                                        <input name="newsletter-interests" type="checkbox" value="news"> LGBTQ+ News
                                    </label>
                                </div>
                            </div>

                            <div class="field">
                                {% include components/join/field-label.html id="newsletter-frequency-select" text="How often would you like to hear from us?" required=true %}
                                <div class="control">
                                    <div class="select is-fullwidth">
                                        <select id="newsletter-frequency-select" name="newsletter-frequency" required>
                                            <option value="" hidden selected>Select an option...</option>
                                            <option value="weekly">Weekly</option>
                                            <option value="monthly">Monthly</option>
                                            <option value="quarterly">Quarterly</option>
                                            <option value="important">Important updates only</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset class="dynamic-content-section mb-5" data-controlled-by="engagement:resources">
                            {% include components/join/fieldset-header.html text="Resource Interests" %}

                            <div class="field">
                                {% include components/join/field-label.html id="" text="What resources are you most interested in?" required=true %}
                                <div class="control" data-require-one="true">
                                    <label class="checkbox">
                                        <input name="resources-types" type="checkbox" value="health"> Health & Wellness
                                    </label>
                                    <label class="checkbox">
                                        <input name="resources-types" type="checkbox" value="legal"> Legal Support
                                    </label>
                                    <label class="checkbox">
                                        <input name="resources-types" type="checkbox" value="education"> Educational Materials
                                    </label>
                                    <label class="checkbox">
                                        <input name="resources-types" type="checkbox" value="community"> Community Connections
                                    </label>
                                    <label class="checkbox">
                                        <input name="resources-types" type="checkbox" value="crisis"> Crisis Resources
                                    </label>
                                </div>
                            </div>

                            <div class="field">
                                {% assign is_required = false %}
                                {% include components/join/field-label.html id="resources-specific-needs" text="Any specific resources you're looking for?" required=is_required %}
                                {% include components/join/textarea.html id="resources-specific-needs" placeholder_text="Tell us about any specific support or resources you're seeking..." required=is_required %}
                            </div>
                        </fieldset>

                        {% include components/join/form-buttons.html prev_step_id="step-involvement" next_step_id="step-confirm" %}
                    </div>

                    <!-- Step 5 -->
                    <div id="step-confirm" class="form-step">
                        {% include components/join/step-header.html heading="Step 5: Confirmation" subheading="We're Excited To Have You On Board" %}

                        <label class="checkbox">
                            <input type="checkbox" required>
                            I agree to the <a href="/terms" target="_blank">Terms and Conditions</a>.
                        </label>

                        {% include components/join/form-buttons.html prev_step_id="step-preferences" next_step_id="" %}
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<script src="/assets/js/sections/join.js"></script>